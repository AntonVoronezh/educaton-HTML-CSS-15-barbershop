const getForm = document.querySelector('.form');
const getSubmitForm = document.querySelector('.btn--form');
const getBeardList = document.querySelector('.beard__list');
const getAllBeardItems = getBeardList.querySelectorAll('.radio');
const getDopList = document.querySelector('.dop');
const getAllDopItems = getDopList.querySelectorAll('.checkbox');



// // начало карты
ymaps.ready(function () {
    var myMap = new ymaps.Map('map', {
        center: [51.680427, 39.176769],
        zoom: 14
    }, {
            searchControlProvider: 'yandex#search'
        }),

        // Создаём макет содержимого.
        MyIconContentLayout = ymaps.templateLayoutFactory.createClass(
            '<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'
        ),
      
        myPlacemark = new ymaps.Placemark(myMap.getCenter(), {
            hintContent: 'Собственный значок метки',
            balloonContent: 'Это красивая метка'
        }, {
                // Опции.
                // Необходимо указать данный тип макета.
                iconLayout: 'default#image',
                // Своё изображение иконки метки.
                iconImageHref: './img/logo/logotype-map.svg',
                // Размеры метки.
                iconImageSize: [226, 30],
                // Смещение левого верхнего угла иконки относительно
                // её "ножки" (точки привязки).
                iconImageOffset: [-1, -1]
            });

       

    myMap.geoObjects
        .add(myPlacemark)
});
// конец карты

const getMobMenu = document.querySelector('.mob-menu');
const getOpenMobMenu = document.querySelector('.mobile-menu');
const getUserLink = document.querySelectorAll('.user__link');

getMobMenu.addEventListener('click', closeMobMenu);

function closeMobMenu() {
  getMobMenu.classList.add('mob-menu-hide')
};

getOpenMobMenu.addEventListener('click', openMobMenu);

function openMobMenu() {
  getMobMenu.classList.remove('mob-menu-hide')
};




const getNewsShowBtn = document.querySelector('.news-show');
const getHideNewsLists = document.querySelectorAll('.news__list--bottom');
// const getShowNewsLists = document.querySelectorAll('.news__list--show');

getNewsShowBtn.addEventListener('click', funcNewsShow);

function funcNewsShow() {
    getHideNewsLists.forEach(elem => {
        elem.classList.toggle('news__list--show')
    });
    getNewsShowBtn.innerHTML = 'спрятать';
    getNewsShowBtn.removeEventListener('click', funcNewsShow);
    getNewsShowBtn.addEventListener('click', funcNewsHide);
};

function funcNewsHide() {
   
    getHideNewsLists.forEach(elem => {
        elem.classList.toggle('news__list--show')
    });
    
    getNewsShowBtn.innerHTML = 'показать все';
    getNewsShowBtn.removeEventListener('click', funcNewsHide);
    getNewsShowBtn.addEventListener('click', funcNewsShow);
};

// начало кода модальное окно отзывов
let text = '<br><br><strong>СЕКРЕТЫ МЯГКОЙ И ПОСЛУШНОЙ БОРОДЫ</strong> \
<br><br>1. ГОРЯЧИЙ ДУШ. ПОВЫШЕННАЯ ВЛАЖНОСТЬ И ПАР, РАСПАРЯТ КОЛЮЧИЕ ВОЛОСКИ ВАШЕЙ БОРОДЫ. ПОСЛЕ ДУША, ВОСПОЛЬЗУЙТЕСЬ УВЛАЖНЯЮЩИМ МАСЛОМ (ЛЮБЫМ, КОТОРОЕ У ВАС ЕСТЬ ИЛИ СПЕЦИАЛЬНЫМ ДЛЯ БОРОДЫ), НАКРОЙТЕ ЛИЦО МАХРОВЫМ ПОЛОТЕНЦЕМ НА 10-15 МИНУТ И СДЕЛАЙТЕ ЛЕГКИЙ МАССАЖ.\
<br><br>2. НЕ МОЙТЕ БОРОДУ КАЖДЫЙ ДЕНЬ!!!ОТ ЕЖЕДНЕВНОГО МЫТЬЯ,ВОЛОСЫ НА БОРОДЕ СТАНОВЯТСЯ ЕЩЕ ЖЕСТЧЕ. МОЖНО МЫТЬ ЧЕРЕЗ ДЕНЬ,ЕСЛИ ЭТО КРАЙНЕ НЕОБХОДИМО, ТОГДА ПРИРОДНЫЕ МАСЛА,КОТОРЫЕ ДЕЛАЮТ ВОЛОСЫ ПОСЛУШНЫМИ УСПЕЮТ НАКОПИТЬСЯ.\
<br><br>3. КОНДИЦИОНЕР ДЛЯ ВОЛОС ИЛИ СПЕЦИАЛЬНЫЙ КОНДИЦИОНЕР ДЛЯ БОРОДЫ. ДАННОЕ СРЕДСТВО ПОМОЖЕТ УПРАВЛЯТЬ ВОЛОСАМИ И СДЕЛАТЬ ИХ МАКСИМАЛЬНО ПОДАТЛИВЫМИ.';

const getCommentsSelectors = document.querySelectorAll(".news__more-link");
const successOverlay = createOverlay(" <img src=\"./img/news/news1.jpg\">" + text);
// console.log(getCommentsSelectors.length);


for (let i = 0; i < getCommentsSelectors.length; i += 1) {
    getCommentsSelectors[i].addEventListener("click", function (event) {
        event.preventDefault();
        document.body.appendChild(successOverlay);
    });
}

function createOverlay(content) {
    const overlayElement = document.createElement("div");
    overlayElement.classList.add("overlay");
  
    const template = document.querySelector("#overlayTemplate");
    overlayElement.innerHTML = template.innerHTML;
  
    const closeElement = overlayElement.querySelector(".close");
    closeElement.addEventListener("click", function(event) {
        event.preventDefault();
      document.body.removeChild(overlayElement);
    });
  
    const contentElement = overlayElement.querySelector(".content");
    contentElement.innerHTML = content;
  
    return overlayElement;
  }



const left = document.querySelector(".slider__left");
const right = document.querySelector(".slider__right");
const items = document.querySelector("#items");
const sliderDotsAll = document.querySelectorAll('.slider__dots-item');
const sliderDotsDiv = document.querySelector('.slider__dots');
const item = items.querySelectorAll(".elem");

const width = 100;
let count = 0;

right.addEventListener("click", function () {

    if (count <= item.length - 2) {
        count += 1;

        makePosition(count);

        sliderDotsAll.forEach(elem => elem.classList.remove('slider__dots-item--active'));
        sliderDotsAll[count].classList.add('slider__dots-item--active');
    }
});

left.addEventListener("click", function () {

     if (count !== 0) {
        count -= 1;

        makePosition(count);

        sliderDotsAll.forEach(elem => elem.classList.remove('slider__dots-item--active'));
        sliderDotsAll[count].classList.add('slider__dots-item--active');
    }
});

sliderDotsDiv.addEventListener('click', changeActiveDots);

function changeActiveDots(event) {

    sliderDotsAll.forEach(elem => elem.classList.remove('slider__dots-item--active'));
    


    event.target.classList.add('slider__dots-item--active');

    sliderDotsAll.forEach((elem, num) => {
        if(elem.classList.contains('slider__dots-item--active'))
        makePosition(num);
    } );

};

function makePosition(argCount) {
    position = width * argCount;
    return items.style.marginLeft = '-' + position + '%';
};

let player;

function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        // height: '360',
        // width: '640',
        videoId: '2e0nEgLAro4',
        playerVars: {
            enablejsapi: 1,
            controls: 0,
            disablekb: 0,
            showinfo: 0,
            rel: 0,
            autoplay: 0,
            modestbranding: 1
        },
        events: {
            // 'onReady': onPlayerReady,
            // 'onStateChange': onPlayerStateChange
        }
    });
}

const getVideo = document.querySelector(".player__video");
const getVideoPlayPauseButton = document.querySelector(".video__play-pause");
const getcVideoIcon = document.querySelector(".control__video-icon");
const getTimeRange = document.querySelector(".control__time-range");
const getAudioPlayPauseButton = document.querySelector(".control__sound-icon");
const getSoundRange = document.querySelector(".control__sound-range");


getVideoPlayPauseButton.addEventListener('click', playPause);
getcVideoIcon.addEventListener('click', playPause);
getVideo.addEventListener('timeupdate', percentRange);
getTimeRange.addEventListener('input', progressRange);

getAudioPlayPauseButton.addEventListener('click', playAudio);
getSoundRange.addEventListener('input', percentSound);
function getCurrentTime() {
    var currentTime = player.getCurrentTime();
    return roundNumber(currentTime, 3);
  }
console.log(player.getPlayerState());

function playPause() {

    if (player.getPlayerState() !== 1) {
        player.playVideo();
        getVideoPlayPauseButton.style.opacity = '0';
    } else {
        player.pauseVideo();
        getVideoPlayPauseButton.style.opacity = '0.5';
    }
};




//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0uanMiLCJtYXAuanMiLCJtb2ItbWVudS5qcyIsIm1vZGFsLmpzIiwibmV3cy5qcyIsInNsaWRlci1zdWJtaXQuanMiLCJzbGlkZXIuanMiLCJ2aWRlby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNSQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3BDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNqQkE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQy9EQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdERBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2V0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtJyk7XHJcbmNvbnN0IGdldFN1Ym1pdEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnRuLS1mb3JtJyk7XHJcbmNvbnN0IGdldEJlYXJkTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5iZWFyZF9fbGlzdCcpO1xyXG5jb25zdCBnZXRBbGxCZWFyZEl0ZW1zID0gZ2V0QmVhcmRMaXN0LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yYWRpbycpO1xyXG5jb25zdCBnZXREb3BMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmRvcCcpO1xyXG5jb25zdCBnZXRBbGxEb3BJdGVtcyA9IGdldERvcExpc3QucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94Jyk7XHJcblxyXG5cclxuIiwiLy8gLy8g0L3QsNGH0LDQu9C+INC60LDRgNGC0YtcclxueW1hcHMucmVhZHkoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG15TWFwID0gbmV3IHltYXBzLk1hcCgnbWFwJywge1xyXG4gICAgICAgIGNlbnRlcjogWzUxLjY4MDQyNywgMzkuMTc2NzY5XSxcclxuICAgICAgICB6b29tOiAxNFxyXG4gICAgfSwge1xyXG4gICAgICAgICAgICBzZWFyY2hDb250cm9sUHJvdmlkZXI6ICd5YW5kZXgjc2VhcmNoJ1xyXG4gICAgICAgIH0pLFxyXG5cclxuICAgICAgICAvLyDQodC+0LfQtNCw0ZHQvCDQvNCw0LrQtdGCINGB0L7QtNC10YDQttC40LzQvtCz0L4uXHJcbiAgICAgICAgTXlJY29uQ29udGVudExheW91dCA9IHltYXBzLnRlbXBsYXRlTGF5b3V0RmFjdG9yeS5jcmVhdGVDbGFzcyhcclxuICAgICAgICAgICAgJzxkaXYgc3R5bGU9XCJjb2xvcjogI0ZGRkZGRjsgZm9udC13ZWlnaHQ6IGJvbGQ7XCI+JFtwcm9wZXJ0aWVzLmljb25Db250ZW50XTwvZGl2PidcclxuICAgICAgICApLFxyXG4gICAgICBcclxuICAgICAgICBteVBsYWNlbWFyayA9IG5ldyB5bWFwcy5QbGFjZW1hcmsobXlNYXAuZ2V0Q2VudGVyKCksIHtcclxuICAgICAgICAgICAgaGludENvbnRlbnQ6ICfQodC+0LHRgdGC0LLQtdC90L3Ri9C5INC30L3QsNGH0L7QuiDQvNC10YLQutC4JyxcclxuICAgICAgICAgICAgYmFsbG9vbkNvbnRlbnQ6ICfQrdGC0L4g0LrRgNCw0YHQuNCy0LDRjyDQvNC10YLQutCwJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIC8vINCe0L/RhtC40LguXHJcbiAgICAgICAgICAgICAgICAvLyDQndC10L7QsdGF0L7QtNC40LzQviDRg9C60LDQt9Cw0YLRjCDQtNCw0L3QvdGL0Lkg0YLQuNC/INC80LDQutC10YLQsC5cclxuICAgICAgICAgICAgICAgIGljb25MYXlvdXQ6ICdkZWZhdWx0I2ltYWdlJyxcclxuICAgICAgICAgICAgICAgIC8vINCh0LLQvtGRINC40LfQvtCx0YDQsNC20LXQvdC40LUg0LjQutC+0L3QutC4INC80LXRgtC60LguXHJcbiAgICAgICAgICAgICAgICBpY29uSW1hZ2VIcmVmOiAnLi9pbWcvbG9nby9sb2dvdHlwZS1tYXAuc3ZnJyxcclxuICAgICAgICAgICAgICAgIC8vINCg0LDQt9C80LXRgNGLINC80LXRgtC60LguXHJcbiAgICAgICAgICAgICAgICBpY29uSW1hZ2VTaXplOiBbMjI2LCAzMF0sXHJcbiAgICAgICAgICAgICAgICAvLyDQodC80LXRidC10L3QuNC1INC70LXQstC+0LPQviDQstC10YDRhdC90LXQs9C+INGD0LPQu9CwINC40LrQvtC90LrQuCDQvtGC0L3QvtGB0LjRgtC10LvRjNC90L5cclxuICAgICAgICAgICAgICAgIC8vINC10ZEgXCLQvdC+0LbQutC4XCIgKNGC0L7Rh9C60Lgg0L/RgNC40LLRj9C30LrQuCkuXHJcbiAgICAgICAgICAgICAgICBpY29uSW1hZ2VPZmZzZXQ6IFstMSwgLTFdXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgIFxyXG5cclxuICAgIG15TWFwLmdlb09iamVjdHNcclxuICAgICAgICAuYWRkKG15UGxhY2VtYXJrKVxyXG59KTtcclxuLy8g0LrQvtC90LXRhiDQutCw0YDRgtGLXHJcbiIsImNvbnN0IGdldE1vYk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iLW1lbnUnKTtcbmNvbnN0IGdldE9wZW5Nb2JNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYmlsZS1tZW51Jyk7XG5jb25zdCBnZXRVc2VyTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy51c2VyX19saW5rJyk7XG5cbmdldE1vYk1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vYk1lbnUpO1xuXG5mdW5jdGlvbiBjbG9zZU1vYk1lbnUoKSB7XG4gIGdldE1vYk1lbnUuY2xhc3NMaXN0LmFkZCgnbW9iLW1lbnUtaGlkZScpXG59O1xuXG5nZXRPcGVuTW9iTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Nb2JNZW51KTtcblxuZnVuY3Rpb24gb3Blbk1vYk1lbnUoKSB7XG4gIGdldE1vYk1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnbW9iLW1lbnUtaGlkZScpXG59O1xuXG5cbiIsIiIsImNvbnN0IGdldE5ld3NTaG93QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ld3Mtc2hvdycpO1xyXG5jb25zdCBnZXRIaWRlTmV3c0xpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ld3NfX2xpc3QtLWJvdHRvbScpO1xyXG4vLyBjb25zdCBnZXRTaG93TmV3c0xpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5ld3NfX2xpc3QtLXNob3cnKTtcclxuXHJcbmdldE5ld3NTaG93QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY05ld3NTaG93KTtcclxuXHJcbmZ1bmN0aW9uIGZ1bmNOZXdzU2hvdygpIHtcclxuICAgIGdldEhpZGVOZXdzTGlzdHMuZm9yRWFjaChlbGVtID0+IHtcclxuICAgICAgICBlbGVtLmNsYXNzTGlzdC50b2dnbGUoJ25ld3NfX2xpc3QtLXNob3cnKVxyXG4gICAgfSk7XHJcbiAgICBnZXROZXdzU2hvd0J0bi5pbm5lckhUTUwgPSAn0YHQv9GA0Y/RgtCw0YLRjCc7XHJcbiAgICBnZXROZXdzU2hvd0J0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmNOZXdzU2hvdyk7XHJcbiAgICBnZXROZXdzU2hvd0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmNOZXdzSGlkZSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBmdW5jTmV3c0hpZGUoKSB7XHJcbiAgIFxyXG4gICAgZ2V0SGlkZU5ld3NMaXN0cy5mb3JFYWNoKGVsZW0gPT4ge1xyXG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbmV3c19fbGlzdC0tc2hvdycpXHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgZ2V0TmV3c1Nob3dCdG4uaW5uZXJIVE1MID0gJ9C/0L7QutCw0LfQsNGC0Ywg0LLRgdC1JztcclxuICAgIGdldE5ld3NTaG93QnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY05ld3NIaWRlKTtcclxuICAgIGdldE5ld3NTaG93QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY05ld3NTaG93KTtcclxufTtcclxuXHJcbi8vINC90LDRh9Cw0LvQviDQutC+0LTQsCDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L4g0L7RgtC30YvQstC+0LJcclxubGV0IHRleHQgPSAnPGJyPjxicj48c3Ryb25nPtCh0JXQmtCg0JXQotCrINCc0K/Qk9Ca0J7QmSDQmCDQn9Ce0KHQm9Cj0KjQndCe0Jkg0JHQntCg0J7QlNCrPC9zdHJvbmc+IFxcXHJcbjxicj48YnI+MS4g0JPQntCg0K/Qp9CY0Jkg0JTQo9CoLiDQn9Ce0JLQq9Co0JXQndCd0JDQryDQktCb0JDQltCd0J7QodCi0Kwg0Jgg0J/QkNCgLCDQoNCQ0KHQn9CQ0KDQr9CiINCa0J7Qm9Cu0KfQmNCVINCS0J7Qm9Ce0KHQmtCYINCS0JDQqNCV0Jkg0JHQntCg0J7QlNCrLiDQn9Ce0KHQm9CVINCU0KPQqNCQLCDQktCe0KHQn9Ce0JvQrNCX0KPQmdCi0JXQodCsINCj0JLQm9CQ0JbQndCv0K7QqdCY0Jwg0JzQkNCh0JvQntCcICjQm9Cu0JHQq9CcLCDQmtCe0KLQntCg0J7QlSDQoyDQktCQ0KEg0JXQodCi0Kwg0JjQm9CYINCh0J/QldCm0JjQkNCb0KzQndCr0Jwg0JTQm9CvINCR0J7QoNCe0JTQqyksINCd0JDQmtCg0J7QmdCi0JUg0JvQmNCm0J4g0JzQkNCl0KDQntCS0KvQnCDQn9Ce0JvQntCi0JXQndCm0JXQnCDQndCQIDEwLTE1INCc0JjQndCj0KIg0Jgg0KHQlNCV0JvQkNCZ0KLQlSDQm9CV0JPQmtCY0Jkg0JzQkNCh0KHQkNCWLlxcXHJcbjxicj48YnI+Mi4g0J3QlSDQnNCe0JnQotCVINCR0J7QoNCe0JTQoyDQmtCQ0JbQlNCr0Jkg0JTQldCd0KwhISHQntCiINCV0JbQldCU0J3QldCS0J3QntCT0J4g0JzQq9Ci0KzQryzQktCe0JvQntCh0Ksg0J3QkCDQkdCe0KDQntCU0JUg0KHQotCQ0J3QntCS0K/QotCh0K8g0JXQqdCVINCW0JXQodCi0KfQlS4g0JzQntCW0J3QniDQnNCr0KLQrCDQp9CV0KDQldCXINCU0JXQndCsLNCV0KHQm9CYINCt0KLQniDQmtCg0JDQmdCd0JUg0J3QldCe0JHQpdCe0JTQmNCc0J4sINCi0J7Qk9CU0JAg0J/QoNCY0KDQntCU0J3Qq9CVINCc0JDQodCb0JAs0JrQntCi0J7QoNCr0JUg0JTQldCb0JDQrtCiINCS0J7Qm9Ce0KHQqyDQn9Ce0KHQm9Cj0KjQndCr0JzQmCDQo9Ch0J/QldCu0KIg0J3QkNCa0J7Qn9CY0KLQrNCh0K8uXFxcclxuPGJyPjxicj4zLiDQmtCe0J3QlNCY0KbQmNCe0J3QldCgINCU0JvQryDQktCe0JvQntChINCY0JvQmCDQodCf0JXQptCY0JDQm9Cs0J3Qq9CZINCa0J7QndCU0JjQptCY0J7QndCV0KAg0JTQm9CvINCR0J7QoNCe0JTQqy4g0JTQkNCd0J3QntCVINCh0KDQldCU0KHQotCS0J4g0J/QntCc0J7QltCV0KIg0KPQn9Cg0JDQktCb0K/QotCsINCS0J7Qm9Ce0KHQkNCc0Jgg0Jgg0KHQlNCV0JvQkNCi0Kwg0JjQpSDQnNCQ0JrQodCY0JzQkNCb0KzQndCeINCf0J7QlNCQ0KLQm9CY0JLQq9Cc0JguJztcclxuXHJcbmNvbnN0IGdldENvbW1lbnRzU2VsZWN0b3JzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5uZXdzX19tb3JlLWxpbmtcIik7XHJcbmNvbnN0IHN1Y2Nlc3NPdmVybGF5ID0gY3JlYXRlT3ZlcmxheShcIiA8aW1nIHNyYz1cXFwiLi9pbWcvbmV3cy9uZXdzMS5qcGdcXFwiPlwiICsgdGV4dCk7XHJcbi8vIGNvbnNvbGUubG9nKGdldENvbW1lbnRzU2VsZWN0b3JzLmxlbmd0aCk7XHJcblxyXG5cclxuZm9yIChsZXQgaSA9IDA7IGkgPCBnZXRDb21tZW50c1NlbGVjdG9ycy5sZW5ndGg7IGkgKz0gMSkge1xyXG4gICAgZ2V0Q29tbWVudHNTZWxlY3RvcnNbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdWNjZXNzT3ZlcmxheSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlT3ZlcmxheShjb250ZW50KSB7XHJcbiAgICBjb25zdCBvdmVybGF5RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBvdmVybGF5RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwib3ZlcmxheVwiKTtcclxuICBcclxuICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNvdmVybGF5VGVtcGxhdGVcIik7XHJcbiAgICBvdmVybGF5RWxlbWVudC5pbm5lckhUTUwgPSB0ZW1wbGF0ZS5pbm5lckhUTUw7XHJcbiAgXHJcbiAgICBjb25zdCBjbG9zZUVsZW1lbnQgPSBvdmVybGF5RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNsb3NlXCIpO1xyXG4gICAgY2xvc2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbihldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3ZlcmxheUVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgXHJcbiAgICBjb25zdCBjb250ZW50RWxlbWVudCA9IG92ZXJsYXlFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udGVudFwiKTtcclxuICAgIGNvbnRlbnRFbGVtZW50LmlubmVySFRNTCA9IGNvbnRlbnQ7XHJcbiAgXHJcbiAgICByZXR1cm4gb3ZlcmxheUVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuIiwiIiwiY29uc3QgbGVmdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyX19sZWZ0XCIpO1xyXG5jb25zdCByaWdodCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyX19yaWdodFwiKTtcclxuY29uc3QgaXRlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2l0ZW1zXCIpO1xyXG5jb25zdCBzbGlkZXJEb3RzQWxsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNsaWRlcl9fZG90cy1pdGVtJyk7XHJcbmNvbnN0IHNsaWRlckRvdHNEaXYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2xpZGVyX19kb3RzJyk7XHJcbmNvbnN0IGl0ZW0gPSBpdGVtcy5xdWVyeVNlbGVjdG9yQWxsKFwiLmVsZW1cIik7XHJcblxyXG5jb25zdCB3aWR0aCA9IDEwMDtcclxubGV0IGNvdW50ID0gMDtcclxuXHJcbnJpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgaWYgKGNvdW50IDw9IGl0ZW0ubGVuZ3RoIC0gMikge1xyXG4gICAgICAgIGNvdW50ICs9IDE7XHJcblxyXG4gICAgICAgIG1ha2VQb3NpdGlvbihjb3VudCk7XHJcblxyXG4gICAgICAgIHNsaWRlckRvdHNBbGwuZm9yRWFjaChlbGVtID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19kb3RzLWl0ZW0tLWFjdGl2ZScpKTtcclxuICAgICAgICBzbGlkZXJEb3RzQWxsW2NvdW50XS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2RvdHMtaXRlbS0tYWN0aXZlJyk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxubGVmdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgICBpZiAoY291bnQgIT09IDApIHtcclxuICAgICAgICBjb3VudCAtPSAxO1xyXG5cclxuICAgICAgICBtYWtlUG9zaXRpb24oY291bnQpO1xyXG5cclxuICAgICAgICBzbGlkZXJEb3RzQWxsLmZvckVhY2goZWxlbSA9PiBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZG90cy1pdGVtLS1hY3RpdmUnKSk7XHJcbiAgICAgICAgc2xpZGVyRG90c0FsbFtjb3VudF0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19kb3RzLWl0ZW0tLWFjdGl2ZScpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbnNsaWRlckRvdHNEaXYuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VBY3RpdmVEb3RzKTtcclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUFjdGl2ZURvdHMoZXZlbnQpIHtcclxuXHJcbiAgICBzbGlkZXJEb3RzQWxsLmZvckVhY2goZWxlbSA9PiBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZG90cy1pdGVtLS1hY3RpdmUnKSk7XHJcbiAgICBcclxuXHJcblxyXG4gICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fZG90cy1pdGVtLS1hY3RpdmUnKTtcclxuXHJcbiAgICBzbGlkZXJEb3RzQWxsLmZvckVhY2goKGVsZW0sIG51bSkgPT4ge1xyXG4gICAgICAgIGlmKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzbGlkZXJfX2RvdHMtaXRlbS0tYWN0aXZlJykpXHJcbiAgICAgICAgbWFrZVBvc2l0aW9uKG51bSk7XHJcbiAgICB9ICk7XHJcblxyXG59O1xyXG5cclxuZnVuY3Rpb24gbWFrZVBvc2l0aW9uKGFyZ0NvdW50KSB7XHJcbiAgICBwb3NpdGlvbiA9IHdpZHRoICogYXJnQ291bnQ7XHJcbiAgICByZXR1cm4gaXRlbXMuc3R5bGUubWFyZ2luTGVmdCA9ICctJyArIHBvc2l0aW9uICsgJyUnO1xyXG59OyIsIlxyXG5sZXQgcGxheWVyO1xyXG5cclxuZnVuY3Rpb24gb25Zb3VUdWJlSWZyYW1lQVBJUmVhZHkoKSB7XHJcbiAgICBwbGF5ZXIgPSBuZXcgWVQuUGxheWVyKCdwbGF5ZXInLCB7XHJcbiAgICAgICAgLy8gaGVpZ2h0OiAnMzYwJyxcclxuICAgICAgICAvLyB3aWR0aDogJzY0MCcsXHJcbiAgICAgICAgdmlkZW9JZDogJzJlMG5FZ0xBcm80JyxcclxuICAgICAgICBwbGF5ZXJWYXJzOiB7XHJcbiAgICAgICAgICAgIGVuYWJsZWpzYXBpOiAxLFxyXG4gICAgICAgICAgICBjb250cm9sczogMCxcclxuICAgICAgICAgICAgZGlzYWJsZWtiOiAwLFxyXG4gICAgICAgICAgICBzaG93aW5mbzogMCxcclxuICAgICAgICAgICAgcmVsOiAwLFxyXG4gICAgICAgICAgICBhdXRvcGxheTogMCxcclxuICAgICAgICAgICAgbW9kZXN0YnJhbmRpbmc6IDFcclxuICAgICAgICB9LFxyXG4gICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAvLyAnb25SZWFkeSc6IG9uUGxheWVyUmVhZHksXHJcbiAgICAgICAgICAgIC8vICdvblN0YXRlQ2hhbmdlJzogb25QbGF5ZXJTdGF0ZUNoYW5nZVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBnZXRWaWRlbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxheWVyX192aWRlb1wiKTtcclxuY29uc3QgZ2V0VmlkZW9QbGF5UGF1c2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnZpZGVvX19wbGF5LXBhdXNlXCIpO1xyXG5jb25zdCBnZXRjVmlkZW9JY29uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250cm9sX192aWRlby1pY29uXCIpO1xyXG5jb25zdCBnZXRUaW1lUmFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRyb2xfX3RpbWUtcmFuZ2VcIik7XHJcbmNvbnN0IGdldEF1ZGlvUGxheVBhdXNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250cm9sX19zb3VuZC1pY29uXCIpO1xyXG5jb25zdCBnZXRTb3VuZFJhbmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250cm9sX19zb3VuZC1yYW5nZVwiKTtcclxuXHJcblxyXG5nZXRWaWRlb1BsYXlQYXVzZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlQYXVzZSk7XHJcbmdldGNWaWRlb0ljb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5UGF1c2UpO1xyXG5nZXRWaWRlby5hZGRFdmVudExpc3RlbmVyKCd0aW1ldXBkYXRlJywgcGVyY2VudFJhbmdlKTtcclxuZ2V0VGltZVJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgcHJvZ3Jlc3NSYW5nZSk7XHJcblxyXG5nZXRBdWRpb1BsYXlQYXVzZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlBdWRpbyk7XHJcbmdldFNvdW5kUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBwZXJjZW50U291bmQpO1xyXG5mdW5jdGlvbiBnZXRDdXJyZW50VGltZSgpIHtcclxuICAgIHZhciBjdXJyZW50VGltZSA9IHBsYXllci5nZXRDdXJyZW50VGltZSgpO1xyXG4gICAgcmV0dXJuIHJvdW5kTnVtYmVyKGN1cnJlbnRUaW1lLCAzKTtcclxuICB9XHJcbmNvbnNvbGUubG9nKHBsYXllci5nZXRQbGF5ZXJTdGF0ZSgpKTtcclxuXHJcbmZ1bmN0aW9uIHBsYXlQYXVzZSgpIHtcclxuXHJcbiAgICBpZiAocGxheWVyLmdldFBsYXllclN0YXRlKCkgIT09IDEpIHtcclxuICAgICAgICBwbGF5ZXIucGxheVZpZGVvKCk7XHJcbiAgICAgICAgZ2V0VmlkZW9QbGF5UGF1c2VCdXR0b24uc3R5bGUub3BhY2l0eSA9ICcwJztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcGxheWVyLnBhdXNlVmlkZW8oKTtcclxuICAgICAgICBnZXRWaWRlb1BsYXlQYXVzZUJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7XHJcbiAgICB9XHJcbn07XHJcblxyXG5cclxuXHJcbiJdfQ==
