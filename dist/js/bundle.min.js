const getForm = document.querySelector('.form');
const getSubmitForm = document.querySelector('.btn--form');
const getBeardList = document.querySelector('.beard__list');
const getAllBeardItems = getBeardList.querySelectorAll('.radio');
const getDopList = document.querySelector('.dop');
const getAllDopItems = getDopList.querySelectorAll('.checkbox');


getSubmitForm.addEventListener('click', createOffer);

function createOffer(event) {
    event.preventDefault();

    const arrDop = [];
    [...getAllDopItems].filter(elem => elem.checked === true ? arrDop.push(elem.nextElementSibling.nextElementSibling.innerHTML) : null);
    const strDop = arrDop.join(', ');

    let BeardItem = '';
    [...getAllBeardItems].filter(elem => elem.checked === true ? BeardItem = elem.nextElementSibling.nextElementSibling.innerHTML : null);

    const text =
        `Ваше имя - <b>${getForm.name.value}</b>, <br>
    ваше отчество - <b>${getForm.surname.value}</b>,<br>
    ваша фамилия <b>"${getForm.family.value}"</b> <br>
    ваш телефон <b>"${getForm.phone.value}"</b> <br>
    ваш майл <b>"${getForm.mail.value}"</b> <br>
    <strong>будут сохранены и опубликованы</strong><br><br>
    ваша Информация для мастера <b>"${getForm.text.value}"</b> <br>
    <strong>будут передана мастеру</strong><br><br>
    модель бороды "${BeardItem}" <br>
    + <br>
    ${strDop} <br>
    `;
    // console.log(text);

    const successOverlay2 = createOverlay(text);
    document.body.appendChild(successOverlay2);

};
// // начало карты
ymaps.ready(function () {
    var myMap = new ymaps.Map('map', {
        center: [51.680427, 39.176769],
        zoom: 14
    }, {
            searchControlProvider: 'yandex#search'
        }),

        // Создаём макет содержимого.
        MyIconContentLayout = ymaps.templateLayoutFactory.createClass(
            '<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'
        ),
      
        myPlacemark = new ymaps.Placemark(myMap.getCenter(), {
            hintContent: 'Собственный значок метки',
            balloonContent: 'Это красивая метка'
        }, {
                // Опции.
                // Необходимо указать данный тип макета.
                iconLayout: 'default#image',
                // Своё изображение иконки метки.
                iconImageHref: './img/logo/logotype-map.svg',
                // Размеры метки.
                iconImageSize: [226, 30],
                // Смещение левого верхнего угла иконки относительно
                // её "ножки" (точки привязки).
                iconImageOffset: [-1, -1]
            });

       

    myMap.geoObjects
        .add(myPlacemark)
});
// конец карты

const getMobMenu = document.querySelector('.mob-menu');
const getOpenMobMenu = document.querySelector('.mobile-menu');
const getUserLink = document.querySelectorAll('.user__link');

getMobMenu.addEventListener('click', closeMobMenu);

function closeMobMenu() {
  getMobMenu.classList.add('mob-menu-hide')
};

getOpenMobMenu.addEventListener('click', openMobMenu);

function openMobMenu() {
  getMobMenu.classList.remove('mob-menu-hide')
};



var link = document.querySelectorAll(".user__link");

var popup = document.querySelector(".modal-login");
var close = popup.querySelector(".modal-close");

var form = popup.querySelector("form");
var login = popup.querySelector("[name=login]");
var password = popup.querySelector("[name=password]");

var storage = localStorage.getItem("login");

link[0].addEventListener("click", functionClick);
link[1].addEventListener("click", functionClick);

function functionClick (evt) {

  evt.preventDefault();
  popup.classList.add("modal-show");

  if (storage) {
    login.value = storage;
    password.focus();
  } else {
    login.focus();
  }
};

close.addEventListener("click", function (evt) {
  evt.preventDefault();
  popup.classList.remove("modal-show");
  popup.classList.remove("modal-error");
});


const getNewsShowBtn = document.querySelector('.news-show');
const getHideNewsLists = document.querySelectorAll('.news__list--bottom');
// const getShowNewsLists = document.querySelectorAll('.news__list--show');

getNewsShowBtn.addEventListener('click', funcNewsShow);

function funcNewsShow() {
    getHideNewsLists.forEach(elem => {
        elem.classList.toggle('news__list--show')
    });
    getNewsShowBtn.innerHTML = 'спрятать';
    getNewsShowBtn.removeEventListener('click', funcNewsShow);
    getNewsShowBtn.addEventListener('click', funcNewsHide);
};

function funcNewsHide() {
   
    getHideNewsLists.forEach(elem => {
        elem.classList.toggle('news__list--show')
    });
    
    getNewsShowBtn.innerHTML = 'показать все';
    getNewsShowBtn.removeEventListener('click', funcNewsHide);
    getNewsShowBtn.addEventListener('click', funcNewsShow);
};

// начало кода модальное окно отзывов
let text = '<br><br><strong>СЕКРЕТЫ МЯГКОЙ И ПОСЛУШНОЙ БОРОДЫ</strong> \
<br><br>1. ГОРЯЧИЙ ДУШ. ПОВЫШЕННАЯ ВЛАЖНОСТЬ И ПАР, РАСПАРЯТ КОЛЮЧИЕ ВОЛОСКИ ВАШЕЙ БОРОДЫ. ПОСЛЕ ДУША, ВОСПОЛЬЗУЙТЕСЬ УВЛАЖНЯЮЩИМ МАСЛОМ (ЛЮБЫМ, КОТОРОЕ У ВАС ЕСТЬ ИЛИ СПЕЦИАЛЬНЫМ ДЛЯ БОРОДЫ), НАКРОЙТЕ ЛИЦО МАХРОВЫМ ПОЛОТЕНЦЕМ НА 10-15 МИНУТ И СДЕЛАЙТЕ ЛЕГКИЙ МАССАЖ.\
<br><br>2. НЕ МОЙТЕ БОРОДУ КАЖДЫЙ ДЕНЬ!!!ОТ ЕЖЕДНЕВНОГО МЫТЬЯ,ВОЛОСЫ НА БОРОДЕ СТАНОВЯТСЯ ЕЩЕ ЖЕСТЧЕ. МОЖНО МЫТЬ ЧЕРЕЗ ДЕНЬ,ЕСЛИ ЭТО КРАЙНЕ НЕОБХОДИМО, ТОГДА ПРИРОДНЫЕ МАСЛА,КОТОРЫЕ ДЕЛАЮТ ВОЛОСЫ ПОСЛУШНЫМИ УСПЕЮТ НАКОПИТЬСЯ.\
<br><br>3. КОНДИЦИОНЕР ДЛЯ ВОЛОС ИЛИ СПЕЦИАЛЬНЫЙ КОНДИЦИОНЕР ДЛЯ БОРОДЫ. ДАННОЕ СРЕДСТВО ПОМОЖЕТ УПРАВЛЯТЬ ВОЛОСАМИ И СДЕЛАТЬ ИХ МАКСИМАЛЬНО ПОДАТЛИВЫМИ.';

const getCommentsSelectors = document.querySelectorAll(".news__more-link");
const successOverlay = createOverlay(" <img src=\"./img/news/news1.jpg\">" + text);
// console.log(getCommentsSelectors.length);


for (let i = 0; i < getCommentsSelectors.length; i += 1) {
    getCommentsSelectors[i].addEventListener("click", function (event) {
        event.preventDefault();
        document.body.appendChild(successOverlay);
    });
}

function createOverlay(content) {
    const overlayElement = document.createElement("div");
    overlayElement.classList.add("overlay");
  
    const template = document.querySelector("#overlayTemplate");
    overlayElement.innerHTML = template.innerHTML;
  
    const closeElement = overlayElement.querySelector(".close");
    closeElement.addEventListener("click", function(event) {
        event.preventDefault();
      document.body.removeChild(overlayElement);
    });
  
    const contentElement = overlayElement.querySelector(".content");
    contentElement.innerHTML = content;
  
    return overlayElement;
  }



const left = document.querySelector(".slider__left");
const right = document.querySelector(".slider__right");
const items = document.querySelector("#items");
const sliderDotsAll = document.querySelectorAll('.slider__dots-item');
const sliderDotsDiv = document.querySelector('.slider__dots');
const item = items.querySelectorAll(".elem");

const width = 100;
let count = 0;

right.addEventListener("click", function () {

    if (count <= item.length - 2) {
        count += 1;

        makePosition(count);

        sliderDotsAll.forEach(elem => elem.classList.remove('slider__dots-item--active'));
        sliderDotsAll[count].classList.add('slider__dots-item--active');
    }
});

left.addEventListener("click", function () {

     if (count !== 0) {
        count -= 1;

        makePosition(count);

        sliderDotsAll.forEach(elem => elem.classList.remove('slider__dots-item--active'));
        sliderDotsAll[count].classList.add('slider__dots-item--active');
    }
});

sliderDotsDiv.addEventListener('click', changeActiveDots);

function changeActiveDots(event) {

    sliderDotsAll.forEach(elem => elem.classList.remove('slider__dots-item--active'));
    


    event.target.classList.add('slider__dots-item--active');

    sliderDotsAll.forEach((elem, num) => {
        if(elem.classList.contains('slider__dots-item--active'))
        makePosition(num);
    } );

};

function makePosition(argCount) {
    position = width * argCount;
    return items.style.marginLeft = '-' + position + '%';
};

let player;

function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        // height: '360',
        // width: '640',
        videoId: '2e0nEgLAro4',
        playerVars: {
            enablejsapi: 1,
            controls: 0,
            disablekb: 0,
            showinfo: 0,
            rel: 0,
            autoplay: 0,
            modestbranding: 1
        },
        events: {
            // 'onReady': onPlayerReady,
            // 'onStateChange': onPlayerStateChange
        }
    });
}

const getVideo = document.querySelector(".player__video");
const getVideoPlayPauseButton = document.querySelector(".video__play-pause");
const getcVideoIcon = document.querySelector(".control__video-icon");
const getTimeRange = document.querySelector(".control__time-range");
const getAudioPlayPauseButton = document.querySelector(".control__sound-icon");
const getSoundRange = document.querySelector(".control__sound-range");


getVideoPlayPauseButton.addEventListener('click', playPause);
getcVideoIcon.addEventListener('click', playPause);
getVideo.addEventListener('timeupdate', percentRange);
getTimeRange.addEventListener('input', progressRange);

getAudioPlayPauseButton.addEventListener('click', playAudio);
getSoundRange.addEventListener('input', percentSound);
function getCurrentTime() {
    var currentTime = player.getCurrentTime();
    return roundNumber(currentTime, 3);
  }
console.log(player.getPlayerState());

function playPause() {

    if (player.getPlayerState() !== 1) {
        player.playVideo();
        getVideoPlayPauseButton.style.opacity = '0';
    } else {
        player.pauseVideo();
        getVideoPlayPauseButton.style.opacity = '0.5';
    }
};




//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0uanMiLCJtYXAuanMiLCJtb2ItbWVudS5qcyIsIm1vZGFsLmpzIiwibmV3cy5qcyIsInNsaWRlci1zdWJtaXQuanMiLCJzbGlkZXIuanMiLCJ2aWRlby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDakNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0RBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBnZXRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcclxuY29uc3QgZ2V0U3VibWl0Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idG4tLWZvcm0nKTtcclxuY29uc3QgZ2V0QmVhcmRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJlYXJkX19saXN0Jyk7XHJcbmNvbnN0IGdldEFsbEJlYXJkSXRlbXMgPSBnZXRCZWFyZExpc3QucXVlcnlTZWxlY3RvckFsbCgnLnJhZGlvJyk7XHJcbmNvbnN0IGdldERvcExpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZG9wJyk7XHJcbmNvbnN0IGdldEFsbERvcEl0ZW1zID0gZ2V0RG9wTGlzdC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gnKTtcclxuXHJcblxyXG5nZXRTdWJtaXRGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY3JlYXRlT2ZmZXIpO1xyXG5cclxuZnVuY3Rpb24gY3JlYXRlT2ZmZXIoZXZlbnQpIHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgY29uc3QgYXJyRG9wID0gW107XHJcbiAgICBbLi4uZ2V0QWxsRG9wSXRlbXNdLmZpbHRlcihlbGVtID0+IGVsZW0uY2hlY2tlZCA9PT0gdHJ1ZSA/IGFyckRvcC5wdXNoKGVsZW0ubmV4dEVsZW1lbnRTaWJsaW5nLm5leHRFbGVtZW50U2libGluZy5pbm5lckhUTUwpIDogbnVsbCk7XHJcbiAgICBjb25zdCBzdHJEb3AgPSBhcnJEb3Auam9pbignLCAnKTtcclxuXHJcbiAgICBsZXQgQmVhcmRJdGVtID0gJyc7XHJcbiAgICBbLi4uZ2V0QWxsQmVhcmRJdGVtc10uZmlsdGVyKGVsZW0gPT4gZWxlbS5jaGVja2VkID09PSB0cnVlID8gQmVhcmRJdGVtID0gZWxlbS5uZXh0RWxlbWVudFNpYmxpbmcubmV4dEVsZW1lbnRTaWJsaW5nLmlubmVySFRNTCA6IG51bGwpO1xyXG5cclxuICAgIGNvbnN0IHRleHQgPVxyXG4gICAgICAgIGDQktCw0YjQtSDQuNC80Y8gLSA8Yj4ke2dldEZvcm0ubmFtZS52YWx1ZX08L2I+LCA8YnI+XHJcbiAgICDQstCw0YjQtSDQvtGC0YfQtdGB0YLQstC+IC0gPGI+JHtnZXRGb3JtLnN1cm5hbWUudmFsdWV9PC9iPiw8YnI+XHJcbiAgICDQstCw0YjQsCDRhNCw0LzQuNC70LjRjyA8Yj5cIiR7Z2V0Rm9ybS5mYW1pbHkudmFsdWV9XCI8L2I+IDxicj5cclxuICAgINCy0LDRiCDRgtC10LvQtdGE0L7QvSA8Yj5cIiR7Z2V0Rm9ybS5waG9uZS52YWx1ZX1cIjwvYj4gPGJyPlxyXG4gICAg0LLQsNGIINC80LDQudC7IDxiPlwiJHtnZXRGb3JtLm1haWwudmFsdWV9XCI8L2I+IDxicj5cclxuICAgIDxzdHJvbmc+0LHRg9C00YPRgiDRgdC+0YXRgNCw0L3QtdC90Ysg0Lgg0L7Qv9GD0LHQu9C40LrQvtCy0LDQvdGLPC9zdHJvbmc+PGJyPjxicj5cclxuICAgINCy0LDRiNCwINCY0L3RhNC+0YDQvNCw0YbQuNGPINC00LvRjyDQvNCw0YHRgtC10YDQsCA8Yj5cIiR7Z2V0Rm9ybS50ZXh0LnZhbHVlfVwiPC9iPiA8YnI+XHJcbiAgICA8c3Ryb25nPtCx0YPQtNGD0YIg0L/QtdGA0LXQtNCw0L3QsCDQvNCw0YHRgtC10YDRgzwvc3Ryb25nPjxicj48YnI+XHJcbiAgICDQvNC+0LTQtdC70Ywg0LHQvtGA0L7QtNGLIFwiJHtCZWFyZEl0ZW19XCIgPGJyPlxyXG4gICAgKyA8YnI+XHJcbiAgICAke3N0ckRvcH0gPGJyPlxyXG4gICAgYDtcclxuICAgIC8vIGNvbnNvbGUubG9nKHRleHQpO1xyXG5cclxuICAgIGNvbnN0IHN1Y2Nlc3NPdmVybGF5MiA9IGNyZWF0ZU92ZXJsYXkodGV4dCk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN1Y2Nlc3NPdmVybGF5Mik7XHJcblxyXG59OyIsIi8vIC8vINC90LDRh9Cw0LvQviDQutCw0YDRgtGLXHJcbnltYXBzLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBteU1hcCA9IG5ldyB5bWFwcy5NYXAoJ21hcCcsIHtcclxuICAgICAgICBjZW50ZXI6IFs1MS42ODA0MjcsIDM5LjE3Njc2OV0sXHJcbiAgICAgICAgem9vbTogMTRcclxuICAgIH0sIHtcclxuICAgICAgICAgICAgc2VhcmNoQ29udHJvbFByb3ZpZGVyOiAneWFuZGV4I3NlYXJjaCdcclxuICAgICAgICB9KSxcclxuXHJcbiAgICAgICAgLy8g0KHQvtC30LTQsNGR0Lwg0LzQsNC60LXRgiDRgdC+0LTQtdGA0LbQuNC80L7Qs9C+LlxyXG4gICAgICAgIE15SWNvbkNvbnRlbnRMYXlvdXQgPSB5bWFwcy50ZW1wbGF0ZUxheW91dEZhY3RvcnkuY3JlYXRlQ2xhc3MoXHJcbiAgICAgICAgICAgICc8ZGl2IHN0eWxlPVwiY29sb3I6ICNGRkZGRkY7IGZvbnQtd2VpZ2h0OiBib2xkO1wiPiRbcHJvcGVydGllcy5pY29uQ29udGVudF08L2Rpdj4nXHJcbiAgICAgICAgKSxcclxuICAgICAgXHJcbiAgICAgICAgbXlQbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKG15TWFwLmdldENlbnRlcigpLCB7XHJcbiAgICAgICAgICAgIGhpbnRDb250ZW50OiAn0KHQvtCx0YHRgtCy0LXQvdC90YvQuSDQt9C90LDRh9C+0Log0LzQtdGC0LrQuCcsXHJcbiAgICAgICAgICAgIGJhbGxvb25Db250ZW50OiAn0K3RgtC+INC60YDQsNGB0LjQstCw0Y8g0LzQtdGC0LrQsCdcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAvLyDQntC/0YbQuNC4LlxyXG4gICAgICAgICAgICAgICAgLy8g0J3QtdC+0LHRhdC+0LTQuNC80L4g0YPQutCw0LfQsNGC0Ywg0LTQsNC90L3Ri9C5INGC0LjQvyDQvNCw0LrQtdGC0LAuXHJcbiAgICAgICAgICAgICAgICBpY29uTGF5b3V0OiAnZGVmYXVsdCNpbWFnZScsXHJcbiAgICAgICAgICAgICAgICAvLyDQodCy0L7RkSDQuNC30L7QsdGA0LDQttC10L3QuNC1INC40LrQvtC90LrQuCDQvNC10YLQutC4LlxyXG4gICAgICAgICAgICAgICAgaWNvbkltYWdlSHJlZjogJy4vaW1nL2xvZ28vbG9nb3R5cGUtbWFwLnN2ZycsXHJcbiAgICAgICAgICAgICAgICAvLyDQoNCw0LfQvNC10YDRiyDQvNC10YLQutC4LlxyXG4gICAgICAgICAgICAgICAgaWNvbkltYWdlU2l6ZTogWzIyNiwgMzBdLFxyXG4gICAgICAgICAgICAgICAgLy8g0KHQvNC10YnQtdC90LjQtSDQu9C10LLQvtCz0L4g0LLQtdGA0YXQvdC10LPQviDRg9Cz0LvQsCDQuNC60L7QvdC60Lgg0L7RgtC90L7RgdC40YLQtdC70YzQvdC+XHJcbiAgICAgICAgICAgICAgICAvLyDQtdGRIFwi0L3QvtC20LrQuFwiICjRgtC+0YfQutC4INC/0YDQuNCy0Y/Qt9C60LgpLlxyXG4gICAgICAgICAgICAgICAgaWNvbkltYWdlT2Zmc2V0OiBbLTEsIC0xXVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICBcclxuXHJcbiAgICBteU1hcC5nZW9PYmplY3RzXHJcbiAgICAgICAgLmFkZChteVBsYWNlbWFyaylcclxufSk7XHJcbi8vINC60L7QvdC10YYg0LrQsNGA0YLRi1xyXG4iLCJjb25zdCBnZXRNb2JNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vYi1tZW51Jyk7XG5jb25zdCBnZXRPcGVuTW9iTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2JpbGUtbWVudScpO1xuY29uc3QgZ2V0VXNlckxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudXNlcl9fbGluaycpO1xuXG5nZXRNb2JNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VNb2JNZW51KTtcblxuZnVuY3Rpb24gY2xvc2VNb2JNZW51KCkge1xuICBnZXRNb2JNZW51LmNsYXNzTGlzdC5hZGQoJ21vYi1tZW51LWhpZGUnKVxufTtcblxuZ2V0T3Blbk1vYk1lbnUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTW9iTWVudSk7XG5cbmZ1bmN0aW9uIG9wZW5Nb2JNZW51KCkge1xuICBnZXRNb2JNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ21vYi1tZW51LWhpZGUnKVxufTtcblxuXG4iLCJ2YXIgbGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIudXNlcl9fbGlua1wiKTtcclxuXHJcbnZhciBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtbG9naW5cIik7XHJcbnZhciBjbG9zZSA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY2xvc2VcIik7XHJcblxyXG52YXIgZm9ybSA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoXCJmb3JtXCIpO1xyXG52YXIgbG9naW4gPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9bG9naW5dXCIpO1xyXG52YXIgcGFzc3dvcmQgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKFwiW25hbWU9cGFzc3dvcmRdXCIpO1xyXG5cclxudmFyIHN0b3JhZ2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImxvZ2luXCIpO1xyXG5cclxubGlua1swXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb25DbGljayk7XHJcbmxpbmtbMV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uQ2xpY2spO1xyXG5cclxuZnVuY3Rpb24gZnVuY3Rpb25DbGljayAoZXZ0KSB7XHJcblxyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHBvcHVwLmNsYXNzTGlzdC5hZGQoXCJtb2RhbC1zaG93XCIpO1xyXG5cclxuICBpZiAoc3RvcmFnZSkge1xyXG4gICAgbG9naW4udmFsdWUgPSBzdG9yYWdlO1xyXG4gICAgcGFzc3dvcmQuZm9jdXMoKTtcclxuICB9IGVsc2Uge1xyXG4gICAgbG9naW4uZm9jdXMoKTtcclxuICB9XHJcbn07XHJcblxyXG5jbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbC1zaG93XCIpO1xyXG4gIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbC1lcnJvclwiKTtcclxufSk7XHJcblxyXG4iLCJjb25zdCBnZXROZXdzU2hvd0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXdzLXNob3cnKTtcclxuY29uc3QgZ2V0SGlkZU5ld3NMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXdzX19saXN0LS1ib3R0b20nKTtcclxuLy8gY29uc3QgZ2V0U2hvd05ld3NMaXN0cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXdzX19saXN0LS1zaG93Jyk7XHJcblxyXG5nZXROZXdzU2hvd0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmNOZXdzU2hvdyk7XHJcblxyXG5mdW5jdGlvbiBmdW5jTmV3c1Nob3coKSB7XHJcbiAgICBnZXRIaWRlTmV3c0xpc3RzLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QudG9nZ2xlKCduZXdzX19saXN0LS1zaG93JylcclxuICAgIH0pO1xyXG4gICAgZ2V0TmV3c1Nob3dCdG4uaW5uZXJIVE1MID0gJ9GB0L/RgNGP0YLQsNGC0YwnO1xyXG4gICAgZ2V0TmV3c1Nob3dCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jTmV3c1Nob3cpO1xyXG4gICAgZ2V0TmV3c1Nob3dCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jTmV3c0hpZGUpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZnVuY05ld3NIaWRlKCkge1xyXG4gICBcclxuICAgIGdldEhpZGVOZXdzTGlzdHMuZm9yRWFjaChlbGVtID0+IHtcclxuICAgICAgICBlbGVtLmNsYXNzTGlzdC50b2dnbGUoJ25ld3NfX2xpc3QtLXNob3cnKVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGdldE5ld3NTaG93QnRuLmlubmVySFRNTCA9ICfQv9C+0LrQsNC30LDRgtGMINCy0YHQtSc7XHJcbiAgICBnZXROZXdzU2hvd0J0bi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmNOZXdzSGlkZSk7XHJcbiAgICBnZXROZXdzU2hvd0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmNOZXdzU2hvdyk7XHJcbn07XHJcblxyXG4vLyDQvdCw0YfQsNC70L4g0LrQvtC00LAg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INC+0YLQt9GL0LLQvtCyXHJcbmxldCB0ZXh0ID0gJzxicj48YnI+PHN0cm9uZz7QodCV0JrQoNCV0KLQqyDQnNCv0JPQmtCe0Jkg0Jgg0J/QntCh0JvQo9Co0J3QntCZINCR0J7QoNCe0JTQqzwvc3Ryb25nPiBcXFxyXG48YnI+PGJyPjEuINCT0J7QoNCv0KfQmNCZINCU0KPQqC4g0J/QntCS0KvQqNCV0J3QndCQ0K8g0JLQm9CQ0JbQndCe0KHQotCsINCYINCf0JDQoCwg0KDQkNCh0J/QkNCg0K/QoiDQmtCe0JvQrtCn0JjQlSDQktCe0JvQntCh0JrQmCDQktCQ0KjQldCZINCR0J7QoNCe0JTQqy4g0J/QntCh0JvQlSDQlNCj0KjQkCwg0JLQntCh0J/QntCb0KzQl9Cj0JnQotCV0KHQrCDQo9CS0JvQkNCW0J3Qr9Cu0KnQmNCcINCc0JDQodCb0J7QnCAo0JvQrtCR0KvQnCwg0JrQntCi0J7QoNCe0JUg0KMg0JLQkNChINCV0KHQotCsINCY0JvQmCDQodCf0JXQptCY0JDQm9Cs0J3Qq9CcINCU0JvQryDQkdCe0KDQntCU0KspLCDQndCQ0JrQoNCe0JnQotCVINCb0JjQptCeINCc0JDQpdCg0J7QktCr0Jwg0J/QntCb0J7QotCV0J3QptCV0Jwg0J3QkCAxMC0xNSDQnNCY0J3Qo9CiINCYINCh0JTQldCb0JDQmdCi0JUg0JvQldCT0JrQmNCZINCc0JDQodCh0JDQli5cXFxyXG48YnI+PGJyPjIuINCd0JUg0JzQntCZ0KLQlSDQkdCe0KDQntCU0KMg0JrQkNCW0JTQq9CZINCU0JXQndCsISEh0J7QoiDQldCW0JXQlNCd0JXQktCd0J7Qk9CeINCc0KvQotCs0K8s0JLQntCb0J7QodCrINCd0JAg0JHQntCg0J7QlNCVINCh0KLQkNCd0J7QktCv0KLQodCvINCV0KnQlSDQltCV0KHQotCn0JUuINCc0J7QltCd0J4g0JzQq9Ci0Kwg0KfQldCg0JXQlyDQlNCV0J3QrCzQldCh0JvQmCDQrdCi0J4g0JrQoNCQ0JnQndCVINCd0JXQntCR0KXQntCU0JjQnNCeLCDQotCe0JPQlNCQINCf0KDQmNCg0J7QlNCd0KvQlSDQnNCQ0KHQm9CQLNCa0J7QotCe0KDQq9CVINCU0JXQm9CQ0K7QoiDQktCe0JvQntCh0Ksg0J/QntCh0JvQo9Co0J3Qq9Cc0Jgg0KPQodCf0JXQrtCiINCd0JDQmtCe0J/QmNCi0KzQodCvLlxcXHJcbjxicj48YnI+My4g0JrQntCd0JTQmNCm0JjQntCd0JXQoCDQlNCb0K8g0JLQntCb0J7QoSDQmNCb0Jgg0KHQn9CV0KbQmNCQ0JvQrNCd0KvQmSDQmtCe0J3QlNCY0KbQmNCe0J3QldCgINCU0JvQryDQkdCe0KDQntCU0KsuINCU0JDQndCd0J7QlSDQodCg0JXQlNCh0KLQktCeINCf0J7QnNCe0JbQldCiINCj0J/QoNCQ0JLQm9Cv0KLQrCDQktCe0JvQntCh0JDQnNCYINCYINCh0JTQldCb0JDQotCsINCY0KUg0JzQkNCa0KHQmNCc0JDQm9Cs0J3QniDQn9Ce0JTQkNCi0JvQmNCS0KvQnNCYLic7XHJcblxyXG5jb25zdCBnZXRDb21tZW50c1NlbGVjdG9ycyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3c19fbW9yZS1saW5rXCIpO1xyXG5jb25zdCBzdWNjZXNzT3ZlcmxheSA9IGNyZWF0ZU92ZXJsYXkoXCIgPGltZyBzcmM9XFxcIi4vaW1nL25ld3MvbmV3czEuanBnXFxcIj5cIiArIHRleHQpO1xyXG4vLyBjb25zb2xlLmxvZyhnZXRDb21tZW50c1NlbGVjdG9ycy5sZW5ndGgpO1xyXG5cclxuXHJcbmZvciAobGV0IGkgPSAwOyBpIDwgZ2V0Q29tbWVudHNTZWxlY3RvcnMubGVuZ3RoOyBpICs9IDEpIHtcclxuICAgIGdldENvbW1lbnRzU2VsZWN0b3JzW2ldLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3VjY2Vzc092ZXJsYXkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZU92ZXJsYXkoY29udGVudCkge1xyXG4gICAgY29uc3Qgb3ZlcmxheUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgb3ZlcmxheUVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm92ZXJsYXlcIik7XHJcbiAgXHJcbiAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjb3ZlcmxheVRlbXBsYXRlXCIpO1xyXG4gICAgb3ZlcmxheUVsZW1lbnQuaW5uZXJIVE1MID0gdGVtcGxhdGUuaW5uZXJIVE1MO1xyXG4gIFxyXG4gICAgY29uc3QgY2xvc2VFbGVtZW50ID0gb3ZlcmxheUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jbG9zZVwiKTtcclxuICAgIGNsb3NlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKG92ZXJsYXlFbGVtZW50KTtcclxuICAgIH0pO1xyXG4gIFxyXG4gICAgY29uc3QgY29udGVudEVsZW1lbnQgPSBvdmVybGF5RWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRlbnRcIik7XHJcbiAgICBjb250ZW50RWxlbWVudC5pbm5lckhUTUwgPSBjb250ZW50O1xyXG4gIFxyXG4gICAgcmV0dXJuIG92ZXJsYXlFbGVtZW50O1xyXG4gIH1cclxuXHJcbiIsIiIsImNvbnN0IGxlZnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlcl9fbGVmdFwiKTtcclxuY29uc3QgcmlnaHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNsaWRlcl9fcmlnaHRcIik7XHJcbmNvbnN0IGl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNpdGVtc1wiKTtcclxuY29uc3Qgc2xpZGVyRG90c0FsbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zbGlkZXJfX2RvdHMtaXRlbScpO1xyXG5jb25zdCBzbGlkZXJEb3RzRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNsaWRlcl9fZG90cycpO1xyXG5jb25zdCBpdGVtID0gaXRlbXMucXVlcnlTZWxlY3RvckFsbChcIi5lbGVtXCIpO1xyXG5cclxuY29uc3Qgd2lkdGggPSAxMDA7XHJcbmxldCBjb3VudCA9IDA7XHJcblxyXG5yaWdodC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIGlmIChjb3VudCA8PSBpdGVtLmxlbmd0aCAtIDIpIHtcclxuICAgICAgICBjb3VudCArPSAxO1xyXG5cclxuICAgICAgICBtYWtlUG9zaXRpb24oY291bnQpO1xyXG5cclxuICAgICAgICBzbGlkZXJEb3RzQWxsLmZvckVhY2goZWxlbSA9PiBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3NsaWRlcl9fZG90cy1pdGVtLS1hY3RpdmUnKSk7XHJcbiAgICAgICAgc2xpZGVyRG90c0FsbFtjb3VudF0uY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19kb3RzLWl0ZW0tLWFjdGl2ZScpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmxlZnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgaWYgKGNvdW50ICE9PSAwKSB7XHJcbiAgICAgICAgY291bnQgLT0gMTtcclxuXHJcbiAgICAgICAgbWFrZVBvc2l0aW9uKGNvdW50KTtcclxuXHJcbiAgICAgICAgc2xpZGVyRG90c0FsbC5mb3JFYWNoKGVsZW0gPT4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2RvdHMtaXRlbS0tYWN0aXZlJykpO1xyXG4gICAgICAgIHNsaWRlckRvdHNBbGxbY291bnRdLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fZG90cy1pdGVtLS1hY3RpdmUnKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5zbGlkZXJEb3RzRGl2LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlQWN0aXZlRG90cyk7XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VBY3RpdmVEb3RzKGV2ZW50KSB7XHJcblxyXG4gICAgc2xpZGVyRG90c0FsbC5mb3JFYWNoKGVsZW0gPT4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2RvdHMtaXRlbS0tYWN0aXZlJykpO1xyXG4gICAgXHJcblxyXG5cclxuICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2RvdHMtaXRlbS0tYWN0aXZlJyk7XHJcblxyXG4gICAgc2xpZGVyRG90c0FsbC5mb3JFYWNoKChlbGVtLCBudW0pID0+IHtcclxuICAgICAgICBpZihlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc2xpZGVyX19kb3RzLWl0ZW0tLWFjdGl2ZScpKVxyXG4gICAgICAgIG1ha2VQb3NpdGlvbihudW0pO1xyXG4gICAgfSApO1xyXG5cclxufTtcclxuXHJcbmZ1bmN0aW9uIG1ha2VQb3NpdGlvbihhcmdDb3VudCkge1xyXG4gICAgcG9zaXRpb24gPSB3aWR0aCAqIGFyZ0NvdW50O1xyXG4gICAgcmV0dXJuIGl0ZW1zLnN0eWxlLm1hcmdpbkxlZnQgPSAnLScgKyBwb3NpdGlvbiArICclJztcclxufTsiLCJcclxubGV0IHBsYXllcjtcclxuXHJcbmZ1bmN0aW9uIG9uWW91VHViZUlmcmFtZUFQSVJlYWR5KCkge1xyXG4gICAgcGxheWVyID0gbmV3IFlULlBsYXllcigncGxheWVyJywge1xyXG4gICAgICAgIC8vIGhlaWdodDogJzM2MCcsXHJcbiAgICAgICAgLy8gd2lkdGg6ICc2NDAnLFxyXG4gICAgICAgIHZpZGVvSWQ6ICcyZTBuRWdMQXJvNCcsXHJcbiAgICAgICAgcGxheWVyVmFyczoge1xyXG4gICAgICAgICAgICBlbmFibGVqc2FwaTogMSxcclxuICAgICAgICAgICAgY29udHJvbHM6IDAsXHJcbiAgICAgICAgICAgIGRpc2FibGVrYjogMCxcclxuICAgICAgICAgICAgc2hvd2luZm86IDAsXHJcbiAgICAgICAgICAgIHJlbDogMCxcclxuICAgICAgICAgICAgYXV0b3BsYXk6IDAsXHJcbiAgICAgICAgICAgIG1vZGVzdGJyYW5kaW5nOiAxXHJcbiAgICAgICAgfSxcclxuICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgLy8gJ29uUmVhZHknOiBvblBsYXllclJlYWR5LFxyXG4gICAgICAgICAgICAvLyAnb25TdGF0ZUNoYW5nZSc6IG9uUGxheWVyU3RhdGVDaGFuZ2VcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgZ2V0VmlkZW8gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYXllcl9fdmlkZW9cIik7XHJcbmNvbnN0IGdldFZpZGVvUGxheVBhdXNlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi52aWRlb19fcGxheS1wYXVzZVwiKTtcclxuY29uc3QgZ2V0Y1ZpZGVvSWNvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udHJvbF9fdmlkZW8taWNvblwiKTtcclxuY29uc3QgZ2V0VGltZVJhbmdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250cm9sX190aW1lLXJhbmdlXCIpO1xyXG5jb25zdCBnZXRBdWRpb1BsYXlQYXVzZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udHJvbF9fc291bmQtaWNvblwiKTtcclxuY29uc3QgZ2V0U291bmRSYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udHJvbF9fc291bmQtcmFuZ2VcIik7XHJcblxyXG5cclxuZ2V0VmlkZW9QbGF5UGF1c2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5UGF1c2UpO1xyXG5nZXRjVmlkZW9JY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheVBhdXNlKTtcclxuZ2V0VmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigndGltZXVwZGF0ZScsIHBlcmNlbnRSYW5nZSk7XHJcbmdldFRpbWVSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHByb2dyZXNzUmFuZ2UpO1xyXG5cclxuZ2V0QXVkaW9QbGF5UGF1c2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBwbGF5QXVkaW8pO1xyXG5nZXRTb3VuZFJhbmdlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgcGVyY2VudFNvdW5kKTtcclxuZnVuY3Rpb24gZ2V0Q3VycmVudFRpbWUoKSB7XHJcbiAgICB2YXIgY3VycmVudFRpbWUgPSBwbGF5ZXIuZ2V0Q3VycmVudFRpbWUoKTtcclxuICAgIHJldHVybiByb3VuZE51bWJlcihjdXJyZW50VGltZSwgMyk7XHJcbiAgfVxyXG5jb25zb2xlLmxvZyhwbGF5ZXIuZ2V0UGxheWVyU3RhdGUoKSk7XHJcblxyXG5mdW5jdGlvbiBwbGF5UGF1c2UoKSB7XHJcblxyXG4gICAgaWYgKHBsYXllci5nZXRQbGF5ZXJTdGF0ZSgpICE9PSAxKSB7XHJcbiAgICAgICAgcGxheWVyLnBsYXlWaWRlbygpO1xyXG4gICAgICAgIGdldFZpZGVvUGxheVBhdXNlQnV0dG9uLnN0eWxlLm9wYWNpdHkgPSAnMCc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBsYXllci5wYXVzZVZpZGVvKCk7XHJcbiAgICAgICAgZ2V0VmlkZW9QbGF5UGF1c2VCdXR0b24uc3R5bGUub3BhY2l0eSA9ICcwLjUnO1xyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcblxyXG4iXX0=
