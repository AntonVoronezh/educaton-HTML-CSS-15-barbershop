
// // начало карты
ymaps.ready(function () {
    var myMap = new ymaps.Map('map', {
        center: [51.680427, 39.176769],
        zoom: 14
    }, {
            searchControlProvider: 'yandex#search'
        }),

        // Создаём макет содержимого.
        MyIconContentLayout = ymaps.templateLayoutFactory.createClass(
            '<div style="color: #FFFFFF; font-weight: bold;">$[properties.iconContent]</div>'
        ),
      
        myPlacemark = new ymaps.Placemark(myMap.getCenter(), {
            hintContent: 'Собственный значок метки',
            balloonContent: 'Это красивая метка'
        }, {
                // Опции.
                // Необходимо указать данный тип макета.
                iconLayout: 'default#image',
                // Своё изображение иконки метки.
                iconImageHref: './img/logo/logotype-map.svg',
                // Размеры метки.
                iconImageSize: [226, 30],
                // Смещение левого верхнего угла иконки относительно
                // её "ножки" (точки привязки).
                iconImageOffset: [-1, -1]
            });

       

    myMap.geoObjects
        .add(myPlacemark)
});
// конец карты

const getMobMenu = document.querySelector('.mob-menu');
const getOpenMobMenu = document.querySelector('.mobile-menu');
const getUserLink = document.querySelectorAll('.user__link');

getMobMenu.addEventListener('click', closeMobMenu);

function closeMobMenu() {
  getMobMenu.classList.add('mob-menu-hide')
};

getOpenMobMenu.addEventListener('click', openMobMenu);

function openMobMenu() {
  getMobMenu.classList.remove('mob-menu-hide')
};




const getNewsShowBtn = document.querySelector('.news-show');
const getHideNewsLists = document.querySelectorAll('.news__list--bottom');
// const getShowNewsLists = document.querySelectorAll('.news__list--show');

getNewsShowBtn.addEventListener('click', funcNewsShow);

function funcNewsShow() {
    getHideNewsLists.forEach(elem => {
        elem.classList.toggle('news__list--show')
    });
    getNewsShowBtn.innerHTML = 'спрятать';
    getNewsShowBtn.removeEventListener('click', funcNewsShow);
    getNewsShowBtn.addEventListener('click', funcNewsHide);
};

function funcNewsHide() {
   
    getHideNewsLists.forEach(elem => {
        elem.classList.toggle('news__list--show')
    });
    
    getNewsShowBtn.innerHTML = 'показать все';
    getNewsShowBtn.removeEventListener('click', funcNewsHide);
    getNewsShowBtn.addEventListener('click', funcNewsShow);
};

// начало кода модальное окно отзывов
let text = '<br><br><strong>СЕКРЕТЫ МЯГКОЙ И ПОСЛУШНОЙ БОРОДЫ</strong> \
<br><br>1. ГОРЯЧИЙ ДУШ. ПОВЫШЕННАЯ ВЛАЖНОСТЬ И ПАР, РАСПАРЯТ КОЛЮЧИЕ ВОЛОСКИ ВАШЕЙ БОРОДЫ. ПОСЛЕ ДУША, ВОСПОЛЬЗУЙТЕСЬ УВЛАЖНЯЮЩИМ МАСЛОМ (ЛЮБЫМ, КОТОРОЕ У ВАС ЕСТЬ ИЛИ СПЕЦИАЛЬНЫМ ДЛЯ БОРОДЫ), НАКРОЙТЕ ЛИЦО МАХРОВЫМ ПОЛОТЕНЦЕМ НА 10-15 МИНУТ И СДЕЛАЙТЕ ЛЕГКИЙ МАССАЖ.\
<br><br>2. НЕ МОЙТЕ БОРОДУ КАЖДЫЙ ДЕНЬ!!!ОТ ЕЖЕДНЕВНОГО МЫТЬЯ,ВОЛОСЫ НА БОРОДЕ СТАНОВЯТСЯ ЕЩЕ ЖЕСТЧЕ. МОЖНО МЫТЬ ЧЕРЕЗ ДЕНЬ,ЕСЛИ ЭТО КРАЙНЕ НЕОБХОДИМО, ТОГДА ПРИРОДНЫЕ МАСЛА,КОТОРЫЕ ДЕЛАЮТ ВОЛОСЫ ПОСЛУШНЫМИ УСПЕЮТ НАКОПИТЬСЯ.\
<br><br>3. КОНДИЦИОНЕР ДЛЯ ВОЛОС ИЛИ СПЕЦИАЛЬНЫЙ КОНДИЦИОНЕР ДЛЯ БОРОДЫ. ДАННОЕ СРЕДСТВО ПОМОЖЕТ УПРАВЛЯТЬ ВОЛОСАМИ И СДЕЛАТЬ ИХ МАКСИМАЛЬНО ПОДАТЛИВЫМИ.';

const getCommentsSelectors = document.querySelectorAll(".news__more-link");
const successOverlay = createOverlay(" <img src=\"./img/news/news1.jpg\">" + text);
// console.log(getCommentsSelectors.length);


for (let i = 0; i < getCommentsSelectors.length; i += 1) {
    getCommentsSelectors[i].addEventListener("click", function (event) {
        event.preventDefault();
        document.body.appendChild(successOverlay);
    });
}

function createOverlay(content) {
    const overlayElement = document.createElement("div");
    overlayElement.classList.add("overlay");
  
    const template = document.querySelector("#overlayTemplate");
    overlayElement.innerHTML = template.innerHTML;
  
    const closeElement = overlayElement.querySelector(".close");
    closeElement.addEventListener("click", function(event) {
        event.preventDefault();
      document.body.removeChild(overlayElement);
    });
  
    const contentElement = overlayElement.querySelector(".content");
    contentElement.innerHTML = content;
  
    return overlayElement;
  }



const left = document.querySelector(".slider__left");
const right = document.querySelector(".slider__right");
const items = document.querySelector("#items");
const sliderDotsAll = document.querySelectorAll('.slider__dots-item');
const sliderDotsDiv = document.querySelector('.slider__dots');
const item = items.querySelectorAll(".elem");

const width = 100;
let count = 0;

right.addEventListener("click", function () {

    if (count <= item.length - 2) {
        count += 1;

        makePosition(count);

        sliderDotsAll.forEach(elem => elem.classList.remove('slider__dots-item--active'));
        sliderDotsAll[count].classList.add('slider__dots-item--active');
    }
});

left.addEventListener("click", function () {

     if (count !== 0) {
        count -= 1;

        makePosition(count);

        sliderDotsAll.forEach(elem => elem.classList.remove('slider__dots-item--active'));
        sliderDotsAll[count].classList.add('slider__dots-item--active');
    }
});

sliderDotsDiv.addEventListener('click', changeActiveDots);

function changeActiveDots(event) {

    sliderDotsAll.forEach(elem => elem.classList.remove('slider__dots-item--active'));
    


    event.target.classList.add('slider__dots-item--active');

    sliderDotsAll.forEach((elem, num) => {
        if(elem.classList.contains('slider__dots-item--active'))
        makePosition(num);
    } );

};

function makePosition(argCount) {
    position = width * argCount;
    return items.style.marginLeft = '-' + position + '%';
};

let player;

function onYouTubeIframeAPIReady() {
    player = new YT.Player('player', {
        // height: '360',
        // width: '640',
        videoId: '2e0nEgLAro4',
        playerVars: {
            enablejsapi: 1,
            controls: 0,
            disablekb: 0,
            showinfo: 0,
            rel: 0,
            autoplay: 0,
            modestbranding: 1
        },
        events: {
            // 'onReady': onPlayerReady,
            // 'onStateChange': onPlayerStateChange
        }
    });
}

const getVideo = document.querySelector(".player__video");
const getVideoPlayPauseButton = document.querySelector(".video__play-pause");
const getcVideoIcon = document.querySelector(".control__video-icon");
const getTimeRange = document.querySelector(".control__time-range");
const getAudioPlayPauseButton = document.querySelector(".control__sound-icon");
const getSoundRange = document.querySelector(".control__sound-range");


getVideoPlayPauseButton.addEventListener('click', playPause);
getcVideoIcon.addEventListener('click', playPause);
getVideo.addEventListener('timeupdate', percentRange);
getTimeRange.addEventListener('input', progressRange);

getAudioPlayPauseButton.addEventListener('click', playAudio);
getSoundRange.addEventListener('input', percentSound);
function getCurrentTime() {
    var currentTime = player.getCurrentTime();
    return roundNumber(currentTime, 3);
  }
console.log(player.getPlayerState());

function playPause() {

    if (player.getPlayerState() !== 1) {
        player.playVideo();
        getVideoPlayPauseButton.style.opacity = '0';
    } else {
        player.pauseVideo();
        getVideoPlayPauseButton.style.opacity = '0.5';
    }
};




//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0uanMiLCJtYXAuanMiLCJtb2ItbWVudS5qcyIsIm1vZGFsLmpzIiwibmV3cy5qcyIsInNsaWRlci1zdWJtaXQuanMiLCJzbGlkZXIuanMiLCJ2aWRlby5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDcENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ2pCQTtBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDL0RBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIiLCIvLyAvLyDQvdCw0YfQsNC70L4g0LrQsNGA0YLRi1xyXG55bWFwcy5yZWFkeShmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgbXlNYXAgPSBuZXcgeW1hcHMuTWFwKCdtYXAnLCB7XHJcbiAgICAgICAgY2VudGVyOiBbNTEuNjgwNDI3LCAzOS4xNzY3NjldLFxyXG4gICAgICAgIHpvb206IDE0XHJcbiAgICB9LCB7XHJcbiAgICAgICAgICAgIHNlYXJjaENvbnRyb2xQcm92aWRlcjogJ3lhbmRleCNzZWFyY2gnXHJcbiAgICAgICAgfSksXHJcblxyXG4gICAgICAgIC8vINCh0L7Qt9C00LDRkdC8INC80LDQutC10YIg0YHQvtC00LXRgNC20LjQvNC+0LPQvi5cclxuICAgICAgICBNeUljb25Db250ZW50TGF5b3V0ID0geW1hcHMudGVtcGxhdGVMYXlvdXRGYWN0b3J5LmNyZWF0ZUNsYXNzKFxyXG4gICAgICAgICAgICAnPGRpdiBzdHlsZT1cImNvbG9yOiAjRkZGRkZGOyBmb250LXdlaWdodDogYm9sZDtcIj4kW3Byb3BlcnRpZXMuaWNvbkNvbnRlbnRdPC9kaXY+J1xyXG4gICAgICAgICksXHJcbiAgICAgIFxyXG4gICAgICAgIG15UGxhY2VtYXJrID0gbmV3IHltYXBzLlBsYWNlbWFyayhteU1hcC5nZXRDZW50ZXIoKSwge1xyXG4gICAgICAgICAgICBoaW50Q29udGVudDogJ9Ch0L7QsdGB0YLQstC10L3QvdGL0Lkg0LfQvdCw0YfQvtC6INC80LXRgtC60LgnLFxyXG4gICAgICAgICAgICBiYWxsb29uQ29udGVudDogJ9Ct0YLQviDQutGA0LDRgdC40LLQsNGPINC80LXRgtC60LAnXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgLy8g0J7Qv9GG0LjQuC5cclxuICAgICAgICAgICAgICAgIC8vINCd0LXQvtCx0YXQvtC00LjQvNC+INGD0LrQsNC30LDRgtGMINC00LDQvdC90YvQuSDRgtC40L8g0LzQsNC60LXRgtCwLlxyXG4gICAgICAgICAgICAgICAgaWNvbkxheW91dDogJ2RlZmF1bHQjaW1hZ2UnLFxyXG4gICAgICAgICAgICAgICAgLy8g0KHQstC+0ZEg0LjQt9C+0LHRgNCw0LbQtdC90LjQtSDQuNC60L7QvdC60Lgg0LzQtdGC0LrQuC5cclxuICAgICAgICAgICAgICAgIGljb25JbWFnZUhyZWY6ICcuL2ltZy9sb2dvL2xvZ290eXBlLW1hcC5zdmcnLFxyXG4gICAgICAgICAgICAgICAgLy8g0KDQsNC30LzQtdGA0Ysg0LzQtdGC0LrQuC5cclxuICAgICAgICAgICAgICAgIGljb25JbWFnZVNpemU6IFsyMjYsIDMwXSxcclxuICAgICAgICAgICAgICAgIC8vINCh0LzQtdGJ0LXQvdC40LUg0LvQtdCy0L7Qs9C+INCy0LXRgNGF0L3QtdCz0L4g0YPQs9C70LAg0LjQutC+0L3QutC4INC+0YLQvdC+0YHQuNGC0LXQu9GM0L3QvlxyXG4gICAgICAgICAgICAgICAgLy8g0LXRkSBcItC90L7QttC60LhcIiAo0YLQvtGH0LrQuCDQv9GA0LjQstGP0LfQutC4KS5cclxuICAgICAgICAgICAgICAgIGljb25JbWFnZU9mZnNldDogWy0xLCAtMV1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgXHJcblxyXG4gICAgbXlNYXAuZ2VvT2JqZWN0c1xyXG4gICAgICAgIC5hZGQobXlQbGFjZW1hcmspXHJcbn0pO1xyXG4vLyDQutC+0L3QtdGGINC60LDRgNGC0YtcclxuIiwiY29uc3QgZ2V0TW9iTWVudSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2ItbWVudScpO1xuY29uc3QgZ2V0T3Blbk1vYk1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9iaWxlLW1lbnUnKTtcbmNvbnN0IGdldFVzZXJMaW5rID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnVzZXJfX2xpbmsnKTtcblxuZ2V0TW9iTWVudS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlTW9iTWVudSk7XG5cbmZ1bmN0aW9uIGNsb3NlTW9iTWVudSgpIHtcbiAgZ2V0TW9iTWVudS5jbGFzc0xpc3QuYWRkKCdtb2ItbWVudS1oaWRlJylcbn07XG5cbmdldE9wZW5Nb2JNZW51LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3Blbk1vYk1lbnUpO1xuXG5mdW5jdGlvbiBvcGVuTW9iTWVudSgpIHtcbiAgZ2V0TW9iTWVudS5jbGFzc0xpc3QucmVtb3ZlKCdtb2ItbWVudS1oaWRlJylcbn07XG5cblxuIiwiIiwiY29uc3QgZ2V0TmV3c1Nob3dCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV3cy1zaG93Jyk7XHJcbmNvbnN0IGdldEhpZGVOZXdzTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV3c19fbGlzdC0tYm90dG9tJyk7XHJcbi8vIGNvbnN0IGdldFNob3dOZXdzTGlzdHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV3c19fbGlzdC0tc2hvdycpO1xyXG5cclxuZ2V0TmV3c1Nob3dCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jTmV3c1Nob3cpO1xyXG5cclxuZnVuY3Rpb24gZnVuY05ld3NTaG93KCkge1xyXG4gICAgZ2V0SGlkZU5ld3NMaXN0cy5mb3JFYWNoKGVsZW0gPT4ge1xyXG4gICAgICAgIGVsZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbmV3c19fbGlzdC0tc2hvdycpXHJcbiAgICB9KTtcclxuICAgIGdldE5ld3NTaG93QnRuLmlubmVySFRNTCA9ICfRgdC/0YDRj9GC0LDRgtGMJztcclxuICAgIGdldE5ld3NTaG93QnRuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY05ld3NTaG93KTtcclxuICAgIGdldE5ld3NTaG93QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY05ld3NIaWRlKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGZ1bmNOZXdzSGlkZSgpIHtcclxuICAgXHJcbiAgICBnZXRIaWRlTmV3c0xpc3RzLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QudG9nZ2xlKCduZXdzX19saXN0LS1zaG93JylcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBnZXROZXdzU2hvd0J0bi5pbm5lckhUTUwgPSAn0L/QvtC60LDQt9Cw0YLRjCDQstGB0LUnO1xyXG4gICAgZ2V0TmV3c1Nob3dCdG4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jTmV3c0hpZGUpO1xyXG4gICAgZ2V0TmV3c1Nob3dCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jTmV3c1Nob3cpO1xyXG59O1xyXG5cclxuLy8g0L3QsNGH0LDQu9C+INC60L7QtNCwINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDQvtGC0LfRi9Cy0L7QslxyXG5sZXQgdGV4dCA9ICc8YnI+PGJyPjxzdHJvbmc+0KHQldCa0KDQldCi0Ksg0JzQr9CT0JrQntCZINCYINCf0J7QodCb0KPQqNCd0J7QmSDQkdCe0KDQntCU0Ks8L3N0cm9uZz4gXFxcclxuPGJyPjxicj4xLiDQk9Ce0KDQr9Cn0JjQmSDQlNCj0KguINCf0J7QktCr0KjQldCd0J3QkNCvINCS0JvQkNCW0J3QntCh0KLQrCDQmCDQn9CQ0KAsINCg0JDQodCf0JDQoNCv0KIg0JrQntCb0K7Qp9CY0JUg0JLQntCb0J7QodCa0Jgg0JLQkNCo0JXQmSDQkdCe0KDQntCU0KsuINCf0J7QodCb0JUg0JTQo9Co0JAsINCS0J7QodCf0J7Qm9Cs0JfQo9CZ0KLQldCh0Kwg0KPQktCb0JDQltCd0K/QrtCp0JjQnCDQnNCQ0KHQm9Ce0JwgKNCb0K7QkdCr0JwsINCa0J7QotCe0KDQntCVINCjINCS0JDQoSDQldCh0KLQrCDQmNCb0Jgg0KHQn9CV0KbQmNCQ0JvQrNCd0KvQnCDQlNCb0K8g0JHQntCg0J7QlNCrKSwg0J3QkNCa0KDQntCZ0KLQlSDQm9CY0KbQniDQnNCQ0KXQoNCe0JLQq9CcINCf0J7Qm9Ce0KLQldCd0KbQldCcINCd0JAgMTAtMTUg0JzQmNCd0KPQoiDQmCDQodCU0JXQm9CQ0JnQotCVINCb0JXQk9Ca0JjQmSDQnNCQ0KHQodCQ0JYuXFxcclxuPGJyPjxicj4yLiDQndCVINCc0J7QmdCi0JUg0JHQntCg0J7QlNCjINCa0JDQltCU0KvQmSDQlNCV0J3QrCEhIdCe0KIg0JXQltCV0JTQndCV0JLQndCe0JPQniDQnNCr0KLQrNCvLNCS0J7Qm9Ce0KHQqyDQndCQINCR0J7QoNCe0JTQlSDQodCi0JDQndCe0JLQr9Ci0KHQryDQldCp0JUg0JbQldCh0KLQp9CVLiDQnNCe0JbQndCeINCc0KvQotCsINCn0JXQoNCV0Jcg0JTQldCd0Kws0JXQodCb0Jgg0K3QotCeINCa0KDQkNCZ0J3QlSDQndCV0J7QkdCl0J7QlNCY0JzQniwg0KLQntCT0JTQkCDQn9Cg0JjQoNCe0JTQndCr0JUg0JzQkNCh0JvQkCzQmtCe0KLQntCg0KvQlSDQlNCV0JvQkNCu0KIg0JLQntCb0J7QodCrINCf0J7QodCb0KPQqNCd0KvQnNCYINCj0KHQn9CV0K7QoiDQndCQ0JrQntCf0JjQotCs0KHQry5cXFxyXG48YnI+PGJyPjMuINCa0J7QndCU0JjQptCY0J7QndCV0KAg0JTQm9CvINCS0J7Qm9Ce0KEg0JjQm9CYINCh0J/QldCm0JjQkNCb0KzQndCr0Jkg0JrQntCd0JTQmNCm0JjQntCd0JXQoCDQlNCb0K8g0JHQntCg0J7QlNCrLiDQlNCQ0J3QndCe0JUg0KHQoNCV0JTQodCi0JLQniDQn9Ce0JzQntCW0JXQoiDQo9Cf0KDQkNCS0JvQr9Ci0Kwg0JLQntCb0J7QodCQ0JzQmCDQmCDQodCU0JXQm9CQ0KLQrCDQmNClINCc0JDQmtCh0JjQnNCQ0JvQrNCd0J4g0J/QntCU0JDQotCb0JjQktCr0JzQmC4nO1xyXG5cclxuY29uc3QgZ2V0Q29tbWVudHNTZWxlY3RvcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5ld3NfX21vcmUtbGlua1wiKTtcclxuY29uc3Qgc3VjY2Vzc092ZXJsYXkgPSBjcmVhdGVPdmVybGF5KFwiIDxpbWcgc3JjPVxcXCIuL2ltZy9uZXdzL25ld3MxLmpwZ1xcXCI+XCIgKyB0ZXh0KTtcclxuLy8gY29uc29sZS5sb2coZ2V0Q29tbWVudHNTZWxlY3RvcnMubGVuZ3RoKTtcclxuXHJcblxyXG5mb3IgKGxldCBpID0gMDsgaSA8IGdldENvbW1lbnRzU2VsZWN0b3JzLmxlbmd0aDsgaSArPSAxKSB7XHJcbiAgICBnZXRDb21tZW50c1NlbGVjdG9yc1tpXS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHN1Y2Nlc3NPdmVybGF5KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVPdmVybGF5KGNvbnRlbnQpIHtcclxuICAgIGNvbnN0IG92ZXJsYXlFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIG92ZXJsYXlFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJvdmVybGF5XCIpO1xyXG4gIFxyXG4gICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJsYXlUZW1wbGF0ZVwiKTtcclxuICAgIG92ZXJsYXlFbGVtZW50LmlubmVySFRNTCA9IHRlbXBsYXRlLmlubmVySFRNTDtcclxuICBcclxuICAgIGNvbnN0IGNsb3NlRWxlbWVudCA9IG92ZXJsYXlFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2xvc2VcIik7XHJcbiAgICBjbG9zZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChvdmVybGF5RWxlbWVudCk7XHJcbiAgICB9KTtcclxuICBcclxuICAgIGNvbnN0IGNvbnRlbnRFbGVtZW50ID0gb3ZlcmxheUVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb250ZW50XCIpO1xyXG4gICAgY29udGVudEVsZW1lbnQuaW5uZXJIVE1MID0gY29udGVudDtcclxuICBcclxuICAgIHJldHVybiBvdmVybGF5RWxlbWVudDtcclxuICB9XHJcblxyXG4iLCIiLCJjb25zdCBsZWZ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXJfX2xlZnRcIik7XHJcbmNvbnN0IHJpZ2h0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zbGlkZXJfX3JpZ2h0XCIpO1xyXG5jb25zdCBpdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaXRlbXNcIik7XHJcbmNvbnN0IHNsaWRlckRvdHNBbGwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGVyX19kb3RzLWl0ZW0nKTtcclxuY29uc3Qgc2xpZGVyRG90c0RpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zbGlkZXJfX2RvdHMnKTtcclxuY29uc3QgaXRlbSA9IGl0ZW1zLnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZWxlbVwiKTtcclxuXHJcbmNvbnN0IHdpZHRoID0gMTAwO1xyXG5sZXQgY291bnQgPSAwO1xyXG5cclxucmlnaHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICBpZiAoY291bnQgPD0gaXRlbS5sZW5ndGggLSAyKSB7XHJcbiAgICAgICAgY291bnQgKz0gMTtcclxuXHJcbiAgICAgICAgbWFrZVBvc2l0aW9uKGNvdW50KTtcclxuXHJcbiAgICAgICAgc2xpZGVyRG90c0FsbC5mb3JFYWNoKGVsZW0gPT4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzbGlkZXJfX2RvdHMtaXRlbS0tYWN0aXZlJykpO1xyXG4gICAgICAgIHNsaWRlckRvdHNBbGxbY291bnRdLmNsYXNzTGlzdC5hZGQoJ3NsaWRlcl9fZG90cy1pdGVtLS1hY3RpdmUnKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5sZWZ0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgIGlmIChjb3VudCAhPT0gMCkge1xyXG4gICAgICAgIGNvdW50IC09IDE7XHJcblxyXG4gICAgICAgIG1ha2VQb3NpdGlvbihjb3VudCk7XHJcblxyXG4gICAgICAgIHNsaWRlckRvdHNBbGwuZm9yRWFjaChlbGVtID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19kb3RzLWl0ZW0tLWFjdGl2ZScpKTtcclxuICAgICAgICBzbGlkZXJEb3RzQWxsW2NvdW50XS5jbGFzc0xpc3QuYWRkKCdzbGlkZXJfX2RvdHMtaXRlbS0tYWN0aXZlJyk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuc2xpZGVyRG90c0Rpdi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZUFjdGl2ZURvdHMpO1xyXG5cclxuZnVuY3Rpb24gY2hhbmdlQWN0aXZlRG90cyhldmVudCkge1xyXG5cclxuICAgIHNsaWRlckRvdHNBbGwuZm9yRWFjaChlbGVtID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2xpZGVyX19kb3RzLWl0ZW0tLWFjdGl2ZScpKTtcclxuICAgIFxyXG5cclxuXHJcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgnc2xpZGVyX19kb3RzLWl0ZW0tLWFjdGl2ZScpO1xyXG5cclxuICAgIHNsaWRlckRvdHNBbGwuZm9yRWFjaCgoZWxlbSwgbnVtKSA9PiB7XHJcbiAgICAgICAgaWYoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3NsaWRlcl9fZG90cy1pdGVtLS1hY3RpdmUnKSlcclxuICAgICAgICBtYWtlUG9zaXRpb24obnVtKTtcclxuICAgIH0gKTtcclxuXHJcbn07XHJcblxyXG5mdW5jdGlvbiBtYWtlUG9zaXRpb24oYXJnQ291bnQpIHtcclxuICAgIHBvc2l0aW9uID0gd2lkdGggKiBhcmdDb3VudDtcclxuICAgIHJldHVybiBpdGVtcy5zdHlsZS5tYXJnaW5MZWZ0ID0gJy0nICsgcG9zaXRpb24gKyAnJSc7XHJcbn07IiwiXHJcbmxldCBwbGF5ZXI7XHJcblxyXG5mdW5jdGlvbiBvbllvdVR1YmVJZnJhbWVBUElSZWFkeSgpIHtcclxuICAgIHBsYXllciA9IG5ldyBZVC5QbGF5ZXIoJ3BsYXllcicsIHtcclxuICAgICAgICAvLyBoZWlnaHQ6ICczNjAnLFxyXG4gICAgICAgIC8vIHdpZHRoOiAnNjQwJyxcclxuICAgICAgICB2aWRlb0lkOiAnMmUwbkVnTEFybzQnLFxyXG4gICAgICAgIHBsYXllclZhcnM6IHtcclxuICAgICAgICAgICAgZW5hYmxlanNhcGk6IDEsXHJcbiAgICAgICAgICAgIGNvbnRyb2xzOiAwLFxyXG4gICAgICAgICAgICBkaXNhYmxla2I6IDAsXHJcbiAgICAgICAgICAgIHNob3dpbmZvOiAwLFxyXG4gICAgICAgICAgICByZWw6IDAsXHJcbiAgICAgICAgICAgIGF1dG9wbGF5OiAwLFxyXG4gICAgICAgICAgICBtb2Rlc3RicmFuZGluZzogMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgIC8vICdvblJlYWR5Jzogb25QbGF5ZXJSZWFkeSxcclxuICAgICAgICAgICAgLy8gJ29uU3RhdGVDaGFuZ2UnOiBvblBsYXllclN0YXRlQ2hhbmdlXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGdldFZpZGVvID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGF5ZXJfX3ZpZGVvXCIpO1xyXG5jb25zdCBnZXRWaWRlb1BsYXlQYXVzZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudmlkZW9fX3BsYXktcGF1c2VcIik7XHJcbmNvbnN0IGdldGNWaWRlb0ljb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRyb2xfX3ZpZGVvLWljb25cIik7XHJcbmNvbnN0IGdldFRpbWVSYW5nZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY29udHJvbF9fdGltZS1yYW5nZVwiKTtcclxuY29uc3QgZ2V0QXVkaW9QbGF5UGF1c2VCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRyb2xfX3NvdW5kLWljb25cIik7XHJcbmNvbnN0IGdldFNvdW5kUmFuZ2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNvbnRyb2xfX3NvdW5kLXJhbmdlXCIpO1xyXG5cclxuXHJcbmdldFZpZGVvUGxheVBhdXNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheVBhdXNlKTtcclxuZ2V0Y1ZpZGVvSWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHBsYXlQYXVzZSk7XHJcbmdldFZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3RpbWV1cGRhdGUnLCBwZXJjZW50UmFuZ2UpO1xyXG5nZXRUaW1lUmFuZ2UuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBwcm9ncmVzc1JhbmdlKTtcclxuXHJcbmdldEF1ZGlvUGxheVBhdXNlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcGxheUF1ZGlvKTtcclxuZ2V0U291bmRSYW5nZS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIHBlcmNlbnRTb3VuZCk7XHJcbmZ1bmN0aW9uIGdldEN1cnJlbnRUaW1lKCkge1xyXG4gICAgdmFyIGN1cnJlbnRUaW1lID0gcGxheWVyLmdldEN1cnJlbnRUaW1lKCk7XHJcbiAgICByZXR1cm4gcm91bmROdW1iZXIoY3VycmVudFRpbWUsIDMpO1xyXG4gIH1cclxuY29uc29sZS5sb2cocGxheWVyLmdldFBsYXllclN0YXRlKCkpO1xyXG5cclxuZnVuY3Rpb24gcGxheVBhdXNlKCkge1xyXG5cclxuICAgIGlmIChwbGF5ZXIuZ2V0UGxheWVyU3RhdGUoKSAhPT0gMSkge1xyXG4gICAgICAgIHBsYXllci5wbGF5VmlkZW8oKTtcclxuICAgICAgICBnZXRWaWRlb1BsYXlQYXVzZUJ1dHRvbi5zdHlsZS5vcGFjaXR5ID0gJzAnO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwbGF5ZXIucGF1c2VWaWRlbygpO1xyXG4gICAgICAgIGdldFZpZGVvUGxheVBhdXNlQnV0dG9uLnN0eWxlLm9wYWNpdHkgPSAnMC41JztcclxuICAgIH1cclxufTtcclxuXHJcblxyXG5cclxuIl19
